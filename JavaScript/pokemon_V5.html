<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>Pokemon_圖鑑列表</title>
    <style>
        .title1 {
            margin: auto;
            text-align: center;
            color: brown;
            font-size: 40px;
        }
    </style>
</head>

<body>
    <div class="title1">Pokemon_圖鑑列表(S1)</div>
    <div class="text-center">
        <button id="btn1" class="btn btn-primary">Load_All</button>
        <button id="btn2" class="btn btn-danger">Remove_All</button>
        <button id="btn3" class="btn btn-warning">Click +1</button>
        <button id="btn4" class="btn btn-warning">Click -1</button>
        <button id="btn5" class="btn btn-success">Timer_Go</button>
        <button id="btn6" class="btn btn-success">Timer_Stop</button>
    </div>

    <div id="container"></div>

    <script>
        let count = 1;
        let intervalId;

        var btn1 = document.getElementById("btn1");
        btn1.addEventListener('click', function (event) {
            container.innerHTML = "";
            let pokemons = '';
            for (let i = 1; i <= 898; i++) { //抓取到編號898圖片
                let fileName = i.toString().padStart(3, '0');
                //let pathFile = `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${fileName}.png`;
                //let pokemonImg = `<img src = "${pathFile}">`;
                let pokemonImg = `<img src = "https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${fileName}.png">`;

                pokemons += pokemonImg;
            }
            container.innerHTML = pokemons;
        });

        var btn2 = document.getElementById("btn2");
        btn2.addEventListener('click', function (event) {
            container.innerHTML = "";

            //clearInterval(IntervalId);

            //btn5.disabled = false;
            //btn6.disabled = false;
        });

        var btn3 = document.getElementById("btn3");
        btn3.addEventListener('click', function (event) {
            if (count >= 898) { return; }
            else {
                let fileName = count.toString().padStart(3, '0');
                let pathFile = `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${fileName}.png`;

                let img = document.createElement('img');
                img.setAttribute('src', pathFile);
                container.appendChild(img);
                count++;
            }
        });

        var btn4 = document.getElementById("btn4");
        btn4.addEventListener('click', function (event) {
            if (container.lastChild) {
                container.removeChild(container.lastChild);
                count--;
            }
        });

        var btn5 = document.getElementById("btn5");
        btn5.addEventListener('click', function(event) {
            container.innerHTML = "";

            btn5.disabled = true;
            btn6.disabled = false;

            intervalId = setInterval(function() {
                if (count >= 898) { return; } 
                else {
                    let fileName = count.toString().padStart(3, '0');
                    let pathFile = `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${fileName}.png`;

                    let img = document.createElement("img");
                    img.setAttribute("src", pathFile);
                    container.appendChild(img);
                    count++;
                }
            }, 500);
        });

        var btn6 = document.getElementById("btn6");
        btn6.addEventListener('click', function(event) {
            btn5.disabled = false;
            btn6.disabled = true;

            clearInterval(intervalId);
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>
</body>

</html>